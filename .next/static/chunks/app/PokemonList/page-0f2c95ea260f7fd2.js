(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{3098:(e,o,r)=>{Promise.resolve().then(r.bind(r,6783))},6783:(e,o,r)=>{"use strict";r.d(o,{default:()=>m});var t=r(5155),a=r(2115),n=r(5565),p=r(1148),i=r.n(p);let s=async e=>{let{offset:o,limit:r}=e;try{let e=await fetch("https://pokeapi.co/api/v2/pokemon?offset=".concat(o,"&limit=").concat(r),{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch Pok\xe9mon data: ".concat(e.statusText));let t=await e.json();return await Promise.all(t.results.map(async e=>{var o,r;let t=await fetch(e.url);if(!t.ok)throw Error("Failed to fetch details for ".concat(e.name));let a=await t.json(),n=(null===(o=a.sprites.other.showdown)||void 0===o?void 0:o.front_default)||null,p=(null===(r=a.sprites.other.showdown)||void 0===r?void 0:r.back_default)||null,i=a.abilities[0].ability.name||null;return n||p?{name:e.name,frontSprite:n,backSprite:p,detailed:i}:null})).then(e=>e.filter(Boolean))}catch(e){throw console.error(e),e}},l={src:"/_next/static/media/ash-kepa4.dc086e46.png",height:1623,width:937,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAMAAAAGL8UJAAAAPFBMVEVMaXFPcJNHXXyNjI97h5FOXG2RWk5DR1h/k6e+ppZvc3mUq7pshZ5qampWYGpSY3V6UUpBNRyigWcpQVtaexOeAAAAE3RSTlMAqfmyiC+dH7APfEOXSn9XtVrZBxiI5gAAAAlwSFlzAAALEwAACxMBAJqcGAAAAC9JREFUeJwVyrcRACAMALEHbEyO++/KoVoQ14mQxRvg7gaSn1CbOnKyPpCCKeGHBxj9APfbyUpFAAAAAElFTkSuQmCC",blurWidth:5,blurHeight:8},m=e=>{let{totalItems:o=151,limit:r=20}=e,{classes:p}={classes:{PokeTrainerImg:i()["poke-trainer"],PokemonWrapper:i()["pokemon-wrapper"],pokemonListContainer:i()["pokemon-wrapper__container"],PokemonListWrapper:i()["pokemon-wrapper__list"],PokemonListWrapperContainer:i()["pokemon-wrapper__list-container"],PokemonListWrapperItem:i()["pokemon-wrapper__list-item"],PokemonListContentWrapper:i()["pokemon-wrapper__content"],pokemonListHeader:i()["pokemon-wrapper__list-header"],LayoutPokemonListHeader:i()["pokemon-wrapper__header"],LayoutPokemonListWrapper:i()["pokemon-wrapper__list-wrapper"],PokemonListToggleView:i()["pokemon-wrapper__toggle"],toggleViewWrapper:i()["pokemon-wrapper__toggle-wrapper"]}},[m,_]=(0,a.useState)(!1),[c,k]=(0,a.useState)([]),[h,w]=(0,a.useState)(!1),d=(0,a.useRef)(null),A=(0,a.useCallback)(async e=>{if(!(c.length>=o))try{w(!0);let o=await s({offset:e,limit:r});k(e=>{let r=new Set(e.map(e=>e.name)),t=o.filter(e=>!r.has(e.name));return[...e,...t]})}catch(e){console.error(e)}finally{w(!1)}},[c.length,o,r]);(0,a.useEffect)(()=>{0===c.length&&A(0)},[A,c.length]),(0,a.useEffect)(()=>{let e=new IntersectionObserver(async e=>{let[r]=e;if(r.isIntersecting&&c.length<o&&!h){let e=c.length;await A(e)}},{threshold:1});return d.current&&e.observe(d.current),()=>{d.current&&e.unobserve(d.current)}},[A,c.length,o,h]),(0,a.useEffect)(()=>()=>{k([])},[]);let u="Show ".concat(m?"Front":"Back"," View");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.default,{className:p.PokeTrainerImg,width:400,height:400,src:l,priority:!0,alt:"Image of pokemon trainer Ash Ketchup"}),(0,t.jsxs)("div",{id:"pokemon-list",className:p.pokemonListContainer,children:[(0,t.jsx)("ul",{className:p.PokemonListWrapper,children:c.map((e,o)=>(0,t.jsx)("li",{className:p.PokemonListWrapperItem,children:(0,t.jsxs)("div",{className:p.PokemonListContentWrapper,children:[(0,t.jsx)(n.default,{loading:"lazy",unoptimized:!0,src:m?e.backSprite:e.frontSprite,alt:"".concat(e.name," ").concat(m?"front":"back"," view"),width:87,height:87}),(0,t.jsx)("h3",{className:p.pokemonListHeader,children:e.name}),(0,t.jsx)("h3",{children:e.detailed})]})},"".concat(e.name,"-").concat(o)))}),(0,t.jsx)("div",{ref:d,children:h&&(0,t.jsx)("p",{children:"Loading more Pok\xe9mon..."})})]}),(0,t.jsx)("div",{className:p.toggleViewWrapper,children:(0,t.jsx)("button",{"aria-label":u,className:p.PokemonListToggleView,onClick:()=>_(e=>!e),children:u})})]})}},1148:e=>{e.exports={"poke-trainer":"PokemonList_poke-trainer__PULJP","pokemon-wrapper":"PokemonList_pokemon-wrapper__7HT9F","pokemon-wrapper__container":"PokemonList_pokemon-wrapper__container__BsYF2","pokemon-wrapper__header":"PokemonList_pokemon-wrapper__header__yw_2t","pokemon-wrapper__list":"PokemonList_pokemon-wrapper__list__oPLaw","pokemon-wrapper__list-item":"PokemonList_pokemon-wrapper__list-item__6WuqO","pokemon-wrapper__content":"PokemonList_pokemon-wrapper__content__uDA7a","pokemon-wrapper__list-header":"PokemonList_pokemon-wrapper__list-header__KzyRn","pokemon-wrapper__toggle-wrapper":"PokemonList_pokemon-wrapper__toggle-wrapper__ewa_e","pokemon-wrapper__toggle":"PokemonList_pokemon-wrapper__toggle__MYHJy"}}},e=>{var o=o=>e(e.s=o);e.O(0,[531,565,441,517,358],()=>o(3098)),_N_E=e.O()}]);